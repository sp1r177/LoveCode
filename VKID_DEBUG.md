# Диагностика проблем с VK ID

Если кнопка VK ID не работает, проверьте следующее:

## 1. Проверьте переменные окружения

Убедитесь, что в `frontend/.env` указаны:
```env
VITE_VK_APP_ID=ваш_реальный_app_id
VITE_VK_REDIRECT_URI=https://ваш-домен.ru/api/auth/vk-callback
VITE_FRONTEND_URL=https://ваш-домен.ru
```

## 2. Проверьте настройки в VK приложении

1. Перейдите на https://dev.vk.com/
2. Откройте ваше приложение
3. Убедитесь, что:
   - **Redirect URI** указан как `https://ваш-домен.ru/vk-callback.php`
   - **App ID** совпадает с `VITE_VK_APP_ID`
   - Приложение опубликовано и активно

## 3. Проверьте консоль браузера

Откройте DevTools (F12) и проверьте:
- Загружается ли SDK (должен быть `window.VKIDSDK`)
- Какие ошибки выводятся при инициализации
- Правильно ли указаны `appId` и `redirectUrl` в логах

## 4. Возможные проблемы

### SDK не загружается
- Проверьте подключение к интернету
- Проверьте, не блокируют ли скрипты расширения браузера
- Попробуйте другой браузер

### Ошибка "Ошибка загрузки" на id.vk.ru
- Проверьте, что `redirectUrl` совпадает с настройками в VK приложении
- Убедитесь, что домен зарегистрирован в VK приложении
- Проверьте, что используется правильный App ID

### Кнопка не отображается
- Проверьте консоль на ошибки JavaScript
- Убедитесь, что SDK загрузился (`console.log(window.VKIDSDK)`)

## 5. Быстрое решение

Если ничего не помогает, попробуйте:

1. Использовать бэкенд redirect URL:
   ```env
   VITE_VK_REDIRECT_URI=https://flirt-ai.ru/vk-callback.php
   ```

2. Проверить, что App ID правильный (из вашего VK приложения)

3. Убедиться, что в VK приложении указан правильный Redirect URI
